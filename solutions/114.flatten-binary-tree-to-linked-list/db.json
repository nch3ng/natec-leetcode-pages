{"ruby":"# Definition for a binary tree node.\r\n# class TreeNode\r\n#     attr_accessor :val, :left, :right\r\n#     def initialize(val)\r\n#         @val = val\r\n#         @left, @right = nil, nil\r\n#     end\r\n# end\r\n\r\n# @param {TreeNode} root\r\n# @return {Void} Do not return anything, modify root in-place instead.\r\ndef flatten(root)\r\n    return root if root.nil?\r\n    s=[]\r\n    s.push root\r\n    tmp=root\r\n    until s.empty?\r\n        r = s.pop\r\n        #print \"node: #{r.val}\\n\"\r\n        \r\n        s.push r.right unless r.right.nil?\r\n        s.push r.left unless r.left.nil?\r\n        \r\n        if r!=root\r\n            tmp.right=r\r\n            tmp.left=nil\r\n            tmp=tmp.right\r\n        end\r\n    end\r\nend"}