{"ruby":"# @param {Integer[]} nums\n# @param {Integer} k\n# @return {Integer}\ndef max_sub_array_len(nums, k)\n  maxLen=0\n  sum=0\n  \n  return 0 if nums.nil? || nums.length == 0\n  \n  hash = Hash.new\n  \n  for i in 0..nums.length-1 do\n    sum=sum+nums[i]\n    \n    if sum == k then\n      maxLen = [maxLen, i+1].max\n    elsif hash.has_key?(sum-k)\n      maxLen = [maxLen, i - hash[sum-k]].max\n    end\n    if !hash.has_key?(sum) then\n      hash[sum] = i\n    end\n  end\n  \n  return maxLen\nend"}